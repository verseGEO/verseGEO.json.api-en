# verseGEO P2E API Guide

- Homepage : [verseGEO.com](http://versegeo.com/).
- Whitepaper : [verseGEO Whitepaper](http://versegeo.com/whitepaper-k.html).

## 1. Exchange Rate Inquiry API (Partners → MW30P)

The Exchange Rate Inquiry API provides exchange rate information(Item, Point, etc  PlayToken, PlayToken  Item, Point, etc). Exchange rate information must be applied to the Exchange API through this API.

※ The exchange rate, which is the result of the Exchange Rate Inquiry API, needs to be registered as a separate ADMIN transaction. If the exchange rate information is not registered in advance, an error is returned.
<br>

* REST API Interface Specification

| API | API URI |Method|Content-Type|
|-----|---------|------|------------|
|Exchange Rate Inquiry API|/api/ExchangeRate.json|POST|application/json|
<br>

* Exchange Rate Inquiry Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>0000000000013</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>000001</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>20220316192601001</sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>Conversion request currency code (Item, Token, etc.)</sub>|<sub>GOLD</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>Conversion target currency code (Item, Token, etc.)</sub>|<sub>SLAYB</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>Item, Point, Token quantity (Error returned when requested below the minimum unit specified by the exchange rate registration administrator)</sub>|<sub>100</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>
   
* Exchange Rate Inquiry Response Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>Conversion request currency code (Item, Token, etc.)</sub>|<sub>GOLD</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>Conversion target currency code (Item, Token, etc.)</sub>|<sub>SLAYB</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>Item, Point, Token quantity (Error returned when requested below the minimum unit specified by the exchange rate registration administrator)</sub>|<sub>100</sub>|
|<sub>toAmount</sub>|<sub>N</sub>|<sub>20</sub>|<sub>Conversion Quantity</sub>|<sub>Conversion quantity = Requested quantity * Exchange rate</sub>|<sub>1</sub>|
|<sub>exchangeRate</sub>|<sub>N</sub>|<sub>20</sub>|<sub>Exchange Rate</sub>|<sub>Exchange rate information for request unit and conversion unit</sub>|<sub>10%</sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Result</sub>|<sub>Success (SUCCSS), Failure (DECLINED)</sub>|<sub>SUCCESS, DECLINED</sub>|
|<sub>errorInformation.errCd</sub>|<sub>N</sub>|<sub>8</sub>|<sub>Error code</sub>|<sub>NULL for Success, Code for Error</sub>|<sub>See Error Code</sub>|
|<sub>errorInformation.reason</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Error message</sub>|<sub>Corresponding error message when an error occurs</sub>|<sub>See Error Code</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>
   
* Exchange Rate Inquiry Sequence
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/01SEQ-01.Exchange_Rate_Inquiry-EN.jpg">
<br>

* Exchange Rate Inquiry Interface JSON Sample
   
[Request]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "fromCurrency" : "GOLD",
    "toCurrency" : "SLAYB",
    "fromAmount" : "100", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : SUCCESS]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "fromCurrency" : "GOLD",
    "toCurrency" : "SLAYB",
    "fromAmount" : "100", 
    "toAmount" : "1",
    "exchangeRate" : "10%",
    "status" : "SUCCESS", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : DECLINED]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "fromCurrency" : "GOLD",
    "toCurrency" : "SLAYB",
    "fromAmount" : "99", 
    "toAmount" : "",
    "exchangeRate" : "",
    "status" : "DECLINED", 
    "errorInformation.errCd" : "7007",
    "errorInformation.reason" : "Insufficient minimum amount",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```
<br>
<br>

## 2. Exchange API (Partners → MW30P)

Converts the request unit (item, point, token, etc.) held by the user of the partners into a transition unit. Exchange requests require the application of exchange rate information 

※ The Exchange API is Async. The processing result of the blockchain is finally delivered through BlockNotify. Exchange is not complete until MW30P provides a response through the Block Notify API.
※ A user-specific key is essential to manage the user's assets even if changes occur due to the loss or damage of the user's device (mobile, PC, etc.).


* REST API Interface Specification

| API | API URI |Method|Content-Type|
|-----|---------|------|------------|
|Exchange API|/api/ExchangeRequest.json|POST|application/json|
<br>

* Exchange Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>000000000001</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>000001</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>20220316192601001</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem. Even if a change occurs due to the loss or damage of a user's device (mobile, PC, etc.), a user's unique key is essential to manage the user's assets.</sub>|<sub>userid@usermail.url</sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>Conversion request currency code (Item, Token, etc.)</sub>|<sub>GOLD</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>Conversion target currency code (Item, Token, etc.)</sub>|<sub>SLAYB</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>Item, Point, Token quantity (Error returned when requested below the minimum unit specified by the exchange rate registration administrator)</sub>|<sub>100</sub>|
|<sub>exchangeRate</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Exchange Rate</sub>|<sub>Use Exchange rate received by Exchange Rate Inquiry API</sub>|<sub>10%</sub>|
|<sub>outPassword</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Password (encryption)</sub>|<sub>Password (encryption applied transmission, see “2. Security Application Guide”)</sub>|<sub></sub>|
|<sub>Papers</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Transaction verification key</sub>|<sub>Transaction verification KEY received after Passport API call</sub>|<sub></sub>|
|<sub>notifyUrl</sub>|<sub>N</sub>|<sub>128</sub>|<sub>Processing result receiving URL</sub>|<sub>URL to receive asynchronous processing results (requires development to receive and process blockchain processing results from the channel side)</sub>|<sub>https://Partners_URL/API/backNotify</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Exchange Response Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>Conversion request currency code (Item, Token, etc.)</sub>|<sub>GOLD</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>Conversion target currency code (Item, Token, etc.)</sub>|<sub>SLAYB</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>Item, Point, Token quantity (Error returned when requested below the minimum unit specified by the exchange rate registration administrator)</sub>|<sub>100</sub>|
|<sub>toAmount</sub>|<sub>N</sub>|<sub>20</sub>|<sub>Conversion Quantity</sub>|<sub>Conversion quantity = Requested quantity * Exchange rate</sub>|<sub>1</sub>|
|<sub>exchangeRate</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Exchange Rate</sub>|<sub>Use Exchange rate received by Exchange Rate Inquiry API</sub>|<sub>10%</sub>|
|<sub>internalAddress</sub>|<sub>N</sub>|<sub>128</sub>|<sub>Internal Address</sub>|<sub>PlayToken(Internal Token) Address</sub>|<sub></sub>|
|<sub>txId</sub>|<sub>N</sub>|<sub>128</sub>|<sub>TXID</sub>|<sub>Blockchain Transaction ID</sub>|<sub></sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Result</sub>|<sub>Success (SUCCSS), Failure (DECLINED)</sub>|<sub>SUCCESS, DECLINED</sub>|
|<sub>errorInformation.errCd</sub>|<sub>N</sub>|<sub>8</sub>|<sub>Error code</sub>|<sub>NULL for Success, Code for Error</sub>|<sub>See Error Code</sub>|
|<sub>errorInformation.reason</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Error message</sub>|<sub>Corresponding error message when an error occurs</sub>|<sub>See Error Code</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Exchange Sequence
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/02SEQ-01.Exchange-EN.jpg">
<br>

* Exchange Interface JSON Sample
   
[Request]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "fromCurrency" : "GOLD",
    "toCurrency" : "SLAYB",
    "fromAmount" : "100", 
    "customerId" : "userid@usermail.url",
    "outPassword" : "f3a0ea7f63724bbd18194bf3a77974df0c8be6a58264ec2df860ad636b31fac6",
    "Papers" : "77974df0c8be6a58264ec2df860af3a0ea7f63724bbd18194bf3ad636b31fac6",
    "notifyUrl" : "https://Partners_URL/API/backNotify"
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : SUCCESS]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "fromCurrency" : "GOLD",
    "toCurrency" : "SLAYB",
    "fromAmount" : "100", 
    "toAmount" : "1",
    "exchangeRate" : "10%",
    "internalAddress" : "0xb440a6cdfbfe4870fc06385d0533476344bdc557",
    "customerId" : "userid@usermail.url",
    "txId" : "0x7104afd5b61c5df952c8e9afd2dafa222d543111b2ee3862c80502b3f2aed93b ",
    "status" : "SUCCESS", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : DECLINED]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "fromCurrency" : "GOLD",
    "toCurrency" : "SLAYB",
    "fromAmount" : "99", 
    "toAmount" : "",
    "exchangeRate" : "13%",
    "internalAddress" : "0xb440a6cdfbfe4870fc06385d0533476344bdc557",
    "customerId" : "userid@usermail.url",
    "txId" : "",
    "status" : "DECLINED",
    "errorInformation.errCd" : "7010",
    "errorInformation.reason" : "Amount verification error",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```
<br>
<br>

## 3. Passport API (Partners → MW30P)

Major services such as registration, change, conversion, and withdrawal through Exchange API, Passport API (password change), Withdrawal Address API, API, and Withdrawal API must be executed after Passport API is authenticated.

※ Various methods such as FIDO, pattern, and 2FACT can be applied to the authentication method after consultation with the partner company.

* REST API Interface Specification

| API | API URI |Method|Content-Type|
|-----|---------|------|------------|
|Passport API|/api/PasswordRegistration.json|POST|application/json|
<br>

* Passpoort Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>000000000001</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>000001</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>20220316192601001</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>outAddress </sub>|<sub>Y</sub>|<sub>128</sub>|<sub>Withdrawal Address</sub>|<sub>Disable</sub>|<sub></sub>|
|<sub>PassportOption</sub>|<sub>Y</sub>|<sub>32</sub>|<sub>Password Option</sub>|<sub>Password processing option (Register: At initial registration, Certify: At password verification, Change: When password is changed)</sub>|<sub></sub>|
|<sub>outPassword</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Password (encryption)</sub>|<sub>Password (encryption applied transmission, see “2. Security Application Guide”)</sub>|<sub></sub>|
|<sub>newPassword</sub>|<sub>N</sub>|<sub>192</sub>|<sub>New password (encryption)</sub>|<sub>When registering or changing a password for the first time (encryption applied transmission, see “2. Security Application Guide”)</sub>|<sub></sub>|
|<sub>Papers</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Transaction verification key</sub>|<sub>Papers received after Passport API authentication</sub>|<sub></sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Passpoort Response Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>Papers</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Transaction verification key</sub>|<sub>Used by Exchange API, Withdrawal API, Passport API. The authentication expires 5 minutes after the Papers are created</sub>|<sub></sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Result</sub>|<sub>Success (SUCCSS), Failure (DECLINED)</sub>|<sub>SUCCESS, DECLINED</sub>|
|<sub>errorInformation.errCd</sub>|<sub>N</sub>|<sub>8</sub>|<sub>Error code</sub>|<sub>NULL for Success, Code for Error</sub>|<sub>See Error Code</sub>|
|<sub>errorInformation.reason</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Error message</sub>|<sub>Corresponding error message when an error occurs</sub>|<sub>See Error Code</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Passport Required Option (PassportOption)

|KEY|Register<br>Request|Register<br>Response|Certify<br>Request|Certify<br>Response|Change<br>Request|Change<br>Response|
|:-----|:----:|:----:|:----:|:----:|:----:|:----:|
|outPassword|N|-|Y|-|Y|-|
|newPassword|Y|-|N|-|Y|-|
|Papers     |N|Y|N|Y|Y|Y|
<br>

* Passport Sequence(Password Registration)

<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/03SEQ-01.Passport-EN.jpg">
<br>

* Passport Sequence(Password Change)

<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/03SEQ-02.Passport-EN.jpg">
<br>

* Passport Interface JSON Sample
   
[Request]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outPassword" : "f3a0ea7f63724bbd18194bf3a77974df0c8be6a58264ec2df860ad636b31fac6",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"

   }
```

[Response : SUCCESS]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "Papers" : "77974df0c8be6a58264ec2df860af3a0ea7f63724bbd18194bf3ad636b31fac6",
    "status" : "SUCCESS", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : DECLINED]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "status" : "DECLINED",
    "errorInformation.errCd" : "B010",
    "errorInformation.reason" : "User Unique ID Error",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```
<br>
<br>

## 4. Withdrawal Address API (Partners → MW30P)

Performs verification and registration of the external address (available on exchanges, etc.) so that the PlayToken held by the user of the partner company can be used externally. The user is responsible for the loss caused by the user's failure to enter the external address correctly.

※ Currently, only Ethereum-based blockchain is supported, but it can be expanded to various blockchain models depending on partner companies and business partnership models.

* REST API Interface Specification

| API | API URI |Method|Content-Type|
|-----|---------|------|------------|
|Withdrawal Address API|/api/WithdrawalAddressVerification.json|POST|application/json|
<br>

* Withdrawal Address Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>000000000001</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>000001</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>20220316192601001</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>outAddress</sub>|<sub>Y</sub>|<sub>128</sub>|<sub>Withdrawal Address</sub>|<sub>The public blockchain address of the channel user available on the exchange, etc.</sub>|<sub></sub>|
|<sub>outPassword</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Password (encryption)</sub>|<sub>Password (encryption applied transmission, see “2. Security Application Guide”)</sub>|<sub></sub>|
|<sub>Papers</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Transaction verification key</sub>|<sub>Papers received after Passport API authentication</sub>|<sub></sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Withdrawal Address Response Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>outAddress</sub>|<sub>N</sub>|<sub>128</sub>|<sub>Withdrawal Address</sub>|<sub>The public blockchain address of the channel user available on the exchange, etc.</sub>|<sub></sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Result</sub>|<sub>Success (SUCCSS), Failure (DECLINED)</sub>|<sub></sub>|
|<sub>errorInformation.errCd</sub>|<sub>N</sub>|<sub>8</sub>|<sub>Error code</sub>|<sub>NULL for Success, Code for Error</sub>|<sub>See Error Code</sub>|
|<sub>errorInformation.reason</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Error message</sub>|<sub>Corresponding error message when an error occurs</sub>|<sub>See Error Code</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Withdrawal Address Sequence(Registration)
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/04SEQ-01.Withdrawal_Address-EN.jpg">
<br>

* Withdrawal Address Sequence(Change)
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/04SEQ-02.Withdrawal_Address-EN.jpg">
<br>

* Withdrawal Address Interface JSON Sample
   
[Request]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outPassword" : "f3a0ea7f63724bbd18194bf3a77974df0c8be6a58264ec2df860ad636b31fac6",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : SUCCESS]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xcce4726a8bca553e31c5341fa456a43062b46520",
    "status" : "SUCCESS", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : DECLINED]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xb440a6cdfbfe4870fc06385d0533476344bdc557",
    "status" : "DECLINED",
    "errorInformation.errCd" : "B100",
    "errorInformation.reason" : "Wallet address is not valid",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```
<br>
<br>

## 5. Withdrawal 
### 5.1 Withdrawal pre-trade API (Partners → ME30P)

The Withdrawal pre-trade API must be run before invoking the Withdrawal API. Key data among the results of the Withdrawal pre-trade API should be reflected in the Withdrawal API.

* REST API Interface Specification

| API | API URI |Method|Content-Type|
|-----|---------|------|------------|
|Withdrawal pre-trade API|/api/Reqpretrade.json|POST|application/json|
<br>

* Withdrawal pre-trade Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>000000000001</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>000001</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>20220316192601001</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>Conversion request token code</sub>|<sub>SLAYB</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>Conversion target token code</sub>|<sub>VGEO</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>Token quantity</sub>|<sub>1</sub>|
|<sub>sign</sub>|<sub></sub>|<sub></sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Withdrawal pre-trade Response Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>outAddress</sub>|<sub>Y</sub>|<sub>128</sub>|<sub>Withdrawal Address</sub>|<sub>The public blockchain address of the channel user available on the exchange, etc.</sub>|<sub></sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>Conversion request token code</sub>|<sub>SLAYB</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>Conversion target token code</sub>|<sub>VGEO</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>Token quantity</sub>|<sub>1</sub>|
|<sub>withdrawalRate</sub>|<sub>N</sub>|<sub>20</sub>|<sub>Withdrawal Rate</sub>|<sub>Withdrawal Rate</sub>|<sub>100%</sub>|
|<sub>toAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Conversion Quantity</sub>|<sub>Conversion quantity = Requested quantity * Withdrawal rate</sub>|<sub>1</sub>|
|<sub>withdrawalFee</sub>|<sub>N</sub>|<sub>20</sub>|<sub>Withdrawal Fee</sub>|<sub>Withdrawal Fee</sub>|<sub>0</sub>|
|<sub>withdrawalAmount</sub>|<sub>N</sub>|<sub>20</sub>|<sub>Withdrawal Quantity</sub>|<sub>Withdrawal quantity = Conversion quantity * Withdrawal Fee</sub>|<sub>1</sub>|
|<sub>ReserveWID</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Withdrawal Reserve WID</sub>|<sub>Transaction verification WID for performing withdrawal transactions</sub>|<sub></sub>|
|<sub>pinNumber</sub>|<sub>N</sub>|<sub>6</sub>|<sub>Withdrawal Pin Number</sub>|<sub>Pin Number used in the Withdrawal main transaction</sub>|<sub>854021</sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Result</sub>|<sub>Success (SUCCSS), Failure (DECLINED)</sub>|<sub>SUCCESS, DECLINED</sub>|
|<sub>errorInformation.errCd</sub>|<sub>N</sub>|<sub>8</sub>|<sub>Error code</sub>|<sub>NULL for Success, Code for Error</sub>|<sub>See Error Code</sub>|
|<sub>errorInformation.reason</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Error message</sub>|<sub>Corresponding error message when an error occurs</sub>|<sub>See Error Code</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Withdrawal pre-trade Sequence
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/05SEQ-01.Withdrawal-EN.jpg">
<br>

* Withdrawal pre-trade Interface JSON Sample
   
[Request]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outPassword" : "f3a0ea7f63724bbd18194bf3a77974df0c8be6a58264ec2df860ad636b31fac6",
    "fromCurrency" : "SLAYB",
    "toCurrency" : "VEGO",
    "fromAmount" : "1", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : SUCCESS]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xcce4726a8bca553e31c5341fa456a43062b46520",
    "fromCurrency" : "SLAYB",
    "toCurrency" : "VEGO",
    "fromAmount" : "1", 
    "withdrawalRate" : "100%",
    "toAmount" : "1",
    "withdrawalFee" : "0",
    "withdrawalAmount" : "1",
    "ReserveWID" : "d18194bf3a77974df0c8be6a58264ec2df860ad636b31fac6f3a0ea7f63724bb",
    "pinNumber" : "880154",
    "status" : "SUCCESS", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : DECLINED]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xcce4726a8bca553e31c5341fa456a43062b46520",
    "fromCurrency" : "SLAYB",
    "toCurrency" : "VEGO",
    "fromAmount" : "1", 
    "status" : "DECLINED",
    "errorInformation.errCd" : "B011",
    "errorInformation.reason" : "Password validation error",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```
<br>
<br>

### 5.2 Withdrawal API (Partners → ME30P)

Withdrawal is a function of transferring PlayToken to an external address. PlayToken, which has been sent to an external address, can be used freely in various fields such as exchanges.

※ The Withdrawal API is asynchronous. The processing result of the blockchain is finally delivered through the Block Notify API. Partner must not complete withdrawal results until non-synchronously provided response results are received.
※ The withdrawal is made only to the registered withdrawal address, and the withdrawal problem due to a mistake in the withdrawal address lies with the user who registered the withdrawal address

* REST API Interface Specification

| API | API URI |Method|Content-Type|
|-----|---------|------|------------|
|Withdrawal pre-trade API|/api/Withdrawal.json|POST|application/json|
<br>

* Withdrawal Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>000000000001</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>000001</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>20220316192601001</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>outAddress</sub>|<sub>Y</sub>|<sub>128</sub>|<sub>Withdrawal Address</sub>|<sub>The public blockchain address of the channel user available on the exchange, etc.</sub>|<sub></sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>fromCurrency value received from Withdrawal pre-trade API</sub>|<sub>SLAYB</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>toCurrency value received from Withdrawal pre-trade API</sub>|<sub>VGEO</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>fromAmount value received from Withdrawal pre-trade API</sub>|<sub>1</sub>|
|<sub>withdrawalRate</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Withdrawal Rate</sub>|<sub>withdrawalRate value received from Withdrawal pre-trade API</sub>|<sub>100%</sub>|
|<sub>toAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Conversion Quantity</sub>|<sub>toAmount value received from Withdrawal pre-trade API</sub>|<sub>1</sub>|
|<sub>withdrawalFee</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Withdrawal Fee</sub>|<sub>withdrawalFee value received from Withdrawal pre-trade API</sub>|<sub>0</sub>|
|<sub>withdrawalAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Withdrawal Quantity</sub>|<sub>withdrawalAmount value received from Withdrawal pre-trade API</sub>|<sub>1</sub>|
|<sub>ReserveWID</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Withdrawal Reserve WID</sub>|<sub>ReservePin value received from Withdrawal pre-trade API</sub>|<sub></sub>|
|<sub>pinNumber</sub>|<sub>Y</sub>|<sub>6</sub>|<sub>Withdrawal Pin Number</sub>|<sub>pinNumber value received from Withdrawal pre-trade API</sub>|<sub>854021</sub>|
|<sub>outPassword</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Password (encryption)</sub>|<sub>Password (encryption applied transmission, see “2. Security Application Guide”)</sub>|<sub></sub>|
|<sub>Papers</sub>|<sub>Y</sub>|<sub>192</sub>|<sub>Transaction verification key</sub>|<sub>Transaction verification KEY received after Passport API call</sub>|<sub></sub>|
|<sub>notifyUrl</sub>|<sub>N</sub>|<sub>128</sub>|<sub>Processing result receiving URL</sub>|<sub>URL to receive asynchronous processing results (requires development to receive and process blockchain processing results from the channel side)</sub>|<sub>https://Partners_URL/API/backNotify</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Withdrawal Response Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>outAddress</sub>|<sub>Y</sub>|<sub>128</sub>|<sub>Withdrawal Address</sub>|<sub>The public blockchain address of the channel user available on the exchange, etc.</sub>|<sub></sub>|
|<sub>fromCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Request unit</sub>|<sub>Conversion request token code</sub>|<sub>SLAYB</sub>|
|<sub>toCurrency</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Conversion unit</sub>|<sub>Conversion target token code</sub>|<sub>VGEO</sub>|
|<sub>fromAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Request Quantity</sub>|<sub>Token quantity</sub>|<sub>1</sub>|
|<sub>withdrawalRate</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Withdrawal Rate</sub>|<sub>Withdrawal Rate</sub>|<sub>100%</sub>|
|<sub>toAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Conversion Quantity</sub>|<sub>Conversion quantity = Requested quantity * Withdrawal rate</sub>|<sub>1</sub>|
|<sub>withdrawalFee</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Withdrawal Fee</sub>|<sub>Withdrawal Fee</sub>|<sub>0</sub>|
|<sub>withdrawalAmount</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Withdrawal Quantity</sub>|<sub>Withdrawal quantity = Conversion quantity * Withdrawal Fee</sub>|<sub>1</sub>|
|<sub>txId</sub>|<sub>N</sub>|<sub>128</sub>|<sub>TXID</sub>|<sub>Blockchain Transaction ID</sub>|<sub></sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Result</sub>|<sub>Success (SUCCSS), Failure (DECLINED)</sub>|<sub>SUCCESS, DECLINED</sub>|
|<sub>errorInformation.errCd</sub>|<sub>N</sub>|<sub>8</sub>|<sub>Error code</sub>|<sub>NULL for Success, Code for Error</sub>|<sub>See Error Code</sub>|
|<sub>errorInformation.reason</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Error message</sub>|<sub>Corresponding error message when an error occurs</sub>|<sub>See Error Code</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Withdrawal Sequence
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/05SEQ-01.Withdrawal-EN.jpg">
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/05SEQ-02.Withdrawal-EN.jpg">
<br>

* Withdrawal Interface JSON Sample
   
[Request]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xcce4726a8bca553e31c5341fa456a43062b46520",
    "fromCurrency" : "SLAYB",
    "toCurrency" : "VEGO",
    "fromAmount" : "1", 
    "withdrawalRate" : "100%",
    "toAmount" : "1",
    "withdrawalFee" : "0",
    "withdrawalAmount" : "1",
    "ReserveWID" : "d18194bf3a77974df0c8be6a58264ec2df860ad636b31fac6f3a0ea7f63724bb",
    "pinNumber" : "880154",
    "Papers" : "77974df0c8be6a58264ec2df860af3a0ea7f63724bbd18194bf3ad636b31fac6",
    "notifyUrl" : "https://Partners_URL/API/backNotify"
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : SUCCESS]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xcce4726a8bca553e31c5341fa456a43062b46520",
    "fromCurrency" : "SLAYB",
    "toCurrency" : "VEGO",
    "fromAmount" : "1", 
    "withdrawalRate" : "100%",
    "toAmount" : "1",
    "withdrawalFee" : "0",
    "withdrawalAmount" : "1",
    "txId" : "0x7104afd5b61c5df952c8e9afd2dafa222d543111b2ee3862c80502b3f2aed93b ",
    "status" : "SUCCESS", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : DECLINED]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xcce4726a8bca553e31c5341fa456a43062b46520",
    "fromCurrency" : "SLAYB",
    "toCurrency" : "VEGO",
    "fromAmount" : "1", 
    "toAmount" : "",
    "exchangeRate" : "",
    "txId" : "",
    "status" : "DECLINED",
    "errorInformation.errCd" : "B011",
    "errorInformation.reason" : "Password validation error",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```
<br>
<br>


## 6. Block Notify API (MW30P → Partners)

Block Notify API notifies transaction processing results (block confirmation or not) in an asynchronous manner, considering the efficiency of major transactions related to blockchain transactions such as Exchange API and Withdrawal API.

* REST API Interface Specification

| API | API URI |Method|Content-Type|
|-----|---------|------|------------|
|Block Notify API|/api/Partners_URL|POST|application/json|
<br>

* Block Notify Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|    
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>netDivision</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Network Classification</sub>|<sub>Blockchain network classification</sub>|<sub>SLAYB, VGEO</sub>|
|<sub>outAddress</sub>|<sub>Y</sub>|<sub>128</sub>|<sub>Withdrawal Address</sub>|<sub>Internal address (Exchange API) or External address (Withdrawal API)</sub>|<sub></sub>|
|<sub>txId</sub>|<sub>N</sub>|<sub>128</sub>|<sub>TXID</sub>|<sub>Blockchain Transaction ID</sub>|<sub></sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>32</sub>|<sub>TXID status</sub>|<sub>Blockchain Transaction Status</sub>|<sub>confirm</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Block Notify Request Interface Layout

| KEY |RQD|Len| Contents |Described|note|
|-----|:-:|:-:| -------- |---------|----|    
|<sub>merchantInformation.merchantId</sub>|<sub>Y</sub>|<sub>50</sub>|<sub>Channel number</sub>|<sub>Channel number allocated by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>merchantInformation.merchantSiteId</sub>|<sub>Y</sub>|<sub>30</sub>|<sub>Channel sub-number</sub>|<sub>Subchannel number assigned by MW30P</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>clientReferenceInformation.code</sub>|<sub>Y</sub>|<sub>20</sub>|<sub>Transaction number</sub>|<sub>Transaction generated by channel only (ex) System ID or Server ID+yyyMMdd+hhmmss+miliscond)</sub>|<sub>Respond the same as the requested value</sub>|
|<sub>customerId</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>User ID</sub>|<sub>The only user-specific ID (KEY) in the entire ecosystem</sub>|<sub>userid@usermail.url</sub>|
|<sub>status</sub>|<sub>Y</sub>|<sub>10</sub>|<sub>Result</sub>|<sub>Success (SUCCSS), Failure (DECLINED)</sub>|<sub>SUCCESS, DECLINED</sub>|
|<sub>errorInformation.errCd</sub>|<sub>N</sub>|<sub>8</sub>|<sub>Error code</sub>|<sub>NULL for Success, Code for Error</sub>|<sub>See Error Code</sub>|
|<sub>errorInformation.reason</sub>|<sub>N</sub>|<sub>192</sub>|<sub>Error message</sub>|<sub>Corresponding error message when an error occurs</sub>|<sub>See Error Code</sub>|
|<sub>sign</sub>|<sub>Y</sub>|<sub>64</sub>|<sub>Signature verification value</sub>|<sub>Security Signatures (see "2. Security Enforcement Guide")</sub>|<sub></sub>|
<br>

* Block Notify Sequence
<img src="https://github.com/verseGEO/verseGEO.json.api-en/blob/main/src/06SEQ-01.Block_notify-EN.jpg">
<br>

* Block Notify Interface JSON Sample
   
[Request]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "netDivision" : "SLAY",
    "customerId" : "userid@usermail.url",
    "outAddress" : "0xcce4726a8bca553e31c5341fa456a43062b46520",
    "txid" : "0x7104afd5b61c5df952c8e9afd2dafa222d543111b2ee3862c80502b3f2aed93b",
    "status" : "confirm",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : SUCCESS]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "status" : "SUCCESS", 
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```

[Response : DECLINED]
```json
   {
    "merchantInformation.merchantId" : "000000000001",
    "merchantInformation.merchantSiteId" : "000001",
    "clientReferenceInformation.code" : "20220316192601000",
    "customerId" : "userid@usermail.url",
    "status" : "DECLINED",
    "errorInformation.errCd" : "B999",
    "errorInformation.reason" : "There is no original transaction.",
    "sign" : "DEDC93DB5CFE0F06CBB54B937266D378C27E2DE985E999B7F319666857E6C9EE"
   }
```
<br>
<br>
